{"version":3,"sources":["redux/actions.js","redux/auth/auth-operations.js","redux/auth/auth-actions.js","components/Container/Container.module.css","redux/auth/auth-selectors.js","components/Navigation.js","components/UserMenu/UserMenu.js","components/UserMenu/default-avatar.png","components/AuthNav.js","components/AppBar.js","components/Container/Container.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/reducer.js","redux/auth/auth-reducer.js","redux/store.js","index.js"],"names":["fetchContactsRequest","createAction","fetchContactsSuccess","fetchContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","axios","defaults","baseURL","token","headers","common","Authorization","register","credentials","dispatch","a","authActions","registerRequest","post","response","data","registerSuccess","registerError","message","logIn","loginRequest","loginSuccess","loginError","logOut","logoutRequest","logoutSuccess","logoutError","getCurrentUser","getState","persistedToken","auth","getCurrentUserRequest","get","getCurrentUserSuccess","getCurrentUserError","module","exports","authSelectors","getIsAuthenticated","state","Boolean","isAuthenticated","getUserName","user","name","styles","link","display","textDecoration","padding","fontWeight","color","activeLink","connect","to","exact","style","activeStyle","container","alignItems","avatar","marginRight","mapDispatchToProps","onLogout","authOperations","src","alt","width","type","onClick","AuthNav","header","justifyContent","borderBottom","Container","children","className","s","Component","component","redirectTo","routeProps","render","props","restricted","HomeView","lazy","RegisterView","LoginView","ContactsView","App","this","onGetCurrentUser","fallback","path","items","createReducer","_","payload","find","newContact","toLowerCase","alert","filter","id","combineReducers","initialUserState","email","error","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","logger","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contacts","devTools","process","persistor","persistStore","ReactDOM","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.850e716f.chunk.js","sourcesContent":["import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const fetchContactsRequest = createAction('contacts/fetchContactsRequest');\r\nexport const fetchContactsSuccess = createAction('contacts/fetchContactsSuccess');\r\nexport const fetchContactsError = createAction('contacts/fetchContactsError');\r\n\r\nexport const addContactRequest = createAction('contacts/addContactRequest');\r\nexport const addContactSuccess = createAction('contacts/addContactSuccess');\r\nexport const addContactError = createAction('contacts/addContactError');\r\n\r\nexport const deleteContactRequest = createAction('contacts/deleteContactRequest');\r\nexport const deleteContactSuccess = createAction('contacts/deleteContactSuccess');\r\nexport const deleteContactError = createAction('contacts/deleteContactError');\r\n\r\nexport const changeFilter = createAction('contacts/changeFilter');","import axios from 'axios';\r\nimport authActions from './auth-actions';\r\n\r\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com/';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\nconst register = credentials => async dispatch => {\r\n    dispatch(authActions.registerRequest());\r\n\r\n    try {\r\n        const response = await axios.post('/users/signup', credentials);\r\n        \r\n        token.set(response.data.token);\r\n        dispatch(authActions.registerSuccess(response.data));\r\n    }\r\n    catch (error) {\r\n        dispatch(authActions.registerError(error.message));\r\n    }\r\n};\r\n\r\nconst logIn = credentials => async dispatch => {\r\n    dispatch(authActions.loginRequest());\r\n\r\n    try {\r\n        const response = await axios.post('/users/login', credentials);\r\n        \r\n        token.set(response.data.token);\r\n        dispatch(authActions.loginSuccess(response.data));\r\n    }\r\n    catch (error) {\r\n        dispatch(authActions.loginError(error.message));\r\n    }\r\n};\r\n\r\nconst logOut = () => async dispatch => {\r\ndispatch(authActions.logoutRequest());\r\n\r\n    try {\r\n        await axios.post('/users/logout');\r\n\r\n        token.unset();\r\n        dispatch(authActions.logoutSuccess());\r\n    }\r\n    catch (error) {\r\n        dispatch(authActions.logoutError(error.message));\r\n    }\r\n};\r\n\r\nconst getCurrentUser = () => async (dispatch, getState) => {\r\n    const {\r\n        auth: { token: persistedToken }\r\n    } = getState();\r\n\r\n    if (!persistedToken) {\r\n        return;\r\n    }\r\n\r\n    token.set(persistedToken);\r\n\r\n    dispatch(authActions.getCurrentUserRequest());\r\n\r\n    try {\r\n        const response = await axios.get('/users/current');\r\n        \r\n        dispatch(authActions.getCurrentUserSuccess(response.data));\r\n    }\r\n    catch (error) {\r\n        dispatch(authActions.getCurrentUserError(error.message));\r\n    }\r\n};\r\n// eslint-disable-next-line\r\nexport default { register, logIn, logOut, getCurrentUser };","import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst registerRequest = createAction('auth/registerRequest');\r\nconst registerSuccess = createAction('auth/registerSuccess');\r\nconst registerError = createAction('auth/registerError');\r\n\r\nconst loginRequest = createAction('auth/loginRequest');\r\nconst loginSuccess = createAction('auth/loginSuccess');\r\nconst loginError = createAction('auth/loginError');\r\n\r\nconst logoutRequest = createAction('auth/logoutRequest');\r\nconst logoutSuccess = createAction('auth/logoutSuccess');\r\nconst logoutError = createAction('auth/logoutError');\r\n\r\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\r\n// eslint-disable-next-line\r\nexport default {\r\n  registerRequest,\r\n  registerSuccess,\r\n  registerError,\r\n  logoutRequest,\r\n  logoutSuccess,\r\n  logoutError,\r\n  loginRequest,\r\n  loginSuccess,\r\n  loginError,\r\n  getCurrentUserRequest,\r\n  getCurrentUserSuccess,\r\n  getCurrentUserError,\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__naqoL\"};","const getIsAuthenticated = state => Boolean(state.auth.isAuthenticated);\r\n\r\nconst getUserName = state => state.auth.user.name;\r\n\r\nconst authSelectors = {\r\n    getIsAuthenticated,\r\n    getUserName,\r\n};\r\n\r\nexport default authSelectors;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\n\r\nconst styles = {\r\n  link: {\r\n    display: 'inline-block',\r\n    textDecoration: 'none',\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: '#2A363B',\r\n  },\r\n  activeLink: {\r\n    color: '#E84A5F',\r\n  },\r\n};\r\n\r\nconst Navigation = ({ isAuthenticated }) => (\r\n  <nav>\r\n    <NavLink to=\"/\" exact style={styles.link} activeStyle={styles.activeLink}>\r\n      Home\r\n    </NavLink>\r\n\r\n    {isAuthenticated && (\r\n      <NavLink\r\n        to=\"/contacts\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >\r\n        Phonebook\r\n      </NavLink>\r\n    )}\r\n  </nav>\r\n);\r\n\r\nconst mapStateToProps = state => ( {isAuthenticated: authSelectors.getIsAuthenticated(state),});\r\n\r\nexport default connect(mapStateToProps)(Navigation);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport authSelectors from '../../redux/auth/auth-selectors';\r\nimport authOperations from '../../redux/auth/auth-operations';\r\nimport defaultAvatar from './default-avatar.png';\r\n\r\nconst styles = {\r\n  container: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    marginRight: 4,\r\n  },\r\n  name: {\r\n    fontWeight: 700,\r\n    marginRight: 12,\r\n  },\r\n};\r\n\r\nconst UserMenu = ({ avatar, name, onLogout }) => (\r\n  <div style={styles.container}>\r\n    <img src={avatar} alt=\"\" width=\"32\" style={styles.avatar} />\r\n    <span style={styles.name}>Welcome, {name}</span>\r\n    <button type=\"button\" onClick={onLogout}>\r\n      Logout\r\n    </button>\r\n  </div>\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  name: authSelectors.getUserName(state),\r\n  avatar: defaultAvatar,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onLogout: authOperations.logOut,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst styles = {\r\n  link: {\r\n    display: 'inline-block',\r\n    textDecoration: 'none',\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: '#2A363B',\r\n  },\r\n  activeLink: {\r\n    color: '#E84A5F',\r\n  },\r\n};\r\n\r\nconst AuthNav = () => (\r\n  <div>\r\n    <NavLink\r\n      to=\"/register\"\r\n      exact\r\n      style={styles.link}\r\n      activeStyle={styles.activeLink}\r\n    >\r\n      Register\r\n    </NavLink>\r\n    <NavLink\r\n      to=\"/login\"\r\n      exact\r\n      style={styles.link}\r\n      activeStyle={styles.activeLink}\r\n    >\r\n      Login\r\n    </NavLink>\r\n  </div>\r\n);\r\n\r\nexport default AuthNav;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Navigation from './Navigation';\r\nimport UserMenu from './UserMenu/UserMenu';\r\nimport AuthNav from './AuthNav';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\n\r\nconst styles = {\r\n  header: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    borderBottom: '1px solid #2A363B',\r\n  },\r\n};\r\n\r\nconst AppBar = ({ isAuthenticated }) => (\r\n  <header style={styles.header}>\r\n    <Navigation />\r\n    {isAuthenticated ? <UserMenu /> : <AuthNav />}\r\n  </header>\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(AppBar);","import React from 'react';\r\nimport s from './Container.module.css';\r\n\r\nconst Container = ({ children }) => <div className={s.Container}>{children}</div>;\r\n\r\nexport default Container;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\n\r\n/**\r\n * - Если маршрут приватный и пользователь залогинен, рендерит компонент\r\n * - В противном случае рендерит Redirect на /login\r\n */\r\nconst PrivateRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuthenticated ? <Component {...props} /> : <Redirect to={redirectTo} />\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\n\r\n/**\r\n * - Если маршрут ограниченный, и пользователь залогинен, рендерит редирект на /todos\r\n * - В противном случае рендерит компонент\r\n */\r\nconst PublicRoute = ({\r\n  component: Component,\r\n  isAuthenticated,\r\n  redirectTo,\r\n  ...routeProps\r\n}) => (\r\n  <Route\r\n    {...routeProps}\r\n    render={props =>\r\n      isAuthenticated && routeProps.restricted ? (\r\n        <Redirect to={redirectTo} />\r\n      ) : (\r\n        <Component {...props} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoute);","import React, { Component, Suspense, lazy } from 'react';\r\nimport { Switch } from 'react-router-dom';\r\nimport AppBar from './components/AppBar';\r\nimport Container from './components/Container/Container';\r\nimport authOperations from './redux/auth/auth-operations';\r\nimport { connect } from 'react-redux';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport PublicRoute from './components/PublicRoute';\r\n\r\nconst HomeView = lazy(() => import('./views/HomeView' /* webpackChunkName: \"home-page\" */));\r\nconst RegisterView = lazy(() => import('./views/RegisterView' /* webpackChunkName: \"register-page\" */));\r\nconst LoginView = lazy(() => import('./views/LoginView' /* webpackChunkName: \"login-page\" */));\r\nconst ContactsView = lazy(() => import('./views/ContactsView' /* webpackChunkName: \"contacts-page\" */));\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.onGetCurrentUser();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <AppBar />\r\n        \r\n        <Suspense fallback={<p>Loading...</p>}>\r\n          <Switch>\r\n            <PublicRoute exact path=\"/\" component={HomeView} />\r\n            <PublicRoute path=\"/register\" restricted component={RegisterView} redirectTo=\"/contacts\" />\r\n            <PublicRoute path=\"/login\" restricted component={LoginView} redirectTo=\"/contacts\" />\r\n            <PrivateRoute path=\"/contacts\" component={ContactsView} redirectTo=\"/login\" />\r\n          </Switch>\r\n        </Suspense>\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  onGetCurrentUser: authOperations.getCurrentUser,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(App);","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport {\r\n    fetchContactsSuccess,\r\n    addContactSuccess,\r\n    deleteContactSuccess,\r\n    changeFilter\r\n} from './actions';\r\n\r\nconst items = createReducer([], {\r\n    [fetchContactsSuccess]: (_, { payload }) => payload,\r\n    [addContactSuccess]: (state, { payload }) => {\r\n        const isInList = state.find(\r\n                newContact => newContact.name.toLowerCase() === payload.name.toLowerCase()\r\n            );\r\n            if (isInList) {\r\n                alert(`Contact ${payload.name} is already exist`);\r\n                return state;\r\n            }\r\n            return [...state, payload];\r\n    },\r\n    [deleteContactSuccess]: (state, { payload }) => state.filter(({ id }) => id !== payload),\r\n});\r\n\r\nconst filter = createReducer('', { [changeFilter]: (_, { payload }) => payload });\r\n\r\nexport default combineReducers({\r\n    items,\r\n    filter,\r\n});","import { combineReducers } from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport authActions from './auth-actions';\r\n\r\nconst initialUserState = { name: null, email: null, };\r\n\r\nconst user = createReducer(initialUserState, {\r\n    [authActions.registerSuccess]: (_, { payload }) => payload.user,\r\n    [authActions.loginSuccess]: (_, { payload }) => payload.user,\r\n    [authActions.logoutSuccess]: () => initialUserState,\r\n    [authActions.getCurrentUserSuccess]: (_, { payload }) => payload,\r\n});\r\n\r\nconst token = createReducer(null, {\r\n    [authActions.registerSuccess]: (_, { payload }) => payload.token,\r\n    [authActions.loginSuccess]: (_, { payload }) => payload.token,\r\n    [authActions.logoutSuccess]: () => null,\r\n});\r\n\r\nconst error = createReducer(null, {\r\n    [authActions.registerError]: (_, { payload }) => payload,\r\n    [authActions.loginError]: (_, { payload }) => payload,\r\n    [authActions.logoutError]: (_, { payload }) => payload,\r\n    [authActions.getCurrentUserError]: (_, { payload }) => payload,\r\n});\r\n\r\nconst isAuthenticated = createReducer(false, {\r\n    [authActions.registerSuccess]: () => true,\r\n    [authActions.loginSuccess]: () => true,\r\n    [authActions.getCurrentUserSuccess]: () => true,\r\n    [authActions.registerError]: () => false,\r\n    [authActions.loginError]: () => false,\r\n    [authActions.getCurrentUserError]: () => false,\r\n    [authActions.logoutSuccess]: () => false,\r\n});\r\n\r\nexport default combineReducers({ user, isAuthenticated, token, error });","import { configureStore, getDefaultMiddleware, } from '@reduxjs/toolkit';\r\nimport logger from 'redux-logger';\r\nimport {\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport reducer from './reducer';\r\nimport authReducer from './auth/auth-reducer';\r\nimport persistStore from 'redux-persist/es/persistStore';\r\nimport storage from 'redux-persist/lib/storage';\r\n\r\nconst middleware = [...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n}), logger];\r\n  \r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token']\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: reducer,\r\n},\r\n    middleware,\r\n    devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n// eslint-disable-next-line\r\nexport default { store, persistor };","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { PersistGate } from 'redux-persist/integration/react'\r\nimport App from './App';\r\nimport store from './redux/store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store.store}>\r\n      <PersistGate loading={null} persistor={store.persistor}>\r\n        <HashRouter>\r\n          <App />\r\n        </HashRouter>        \r\n      </PersistGate>      \r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}